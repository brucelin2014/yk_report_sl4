<!--2021-01-14, Bruce-->

<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<script src="js/vue.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/echarts.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="data/REPORT_20201103_1.js" type="text/javascript" charset="utf-8"></script>

		<style>
			.title {
				background-color: lightgray;
				padding: 10px;
				font-size: 25px;
				text-align: center;
			}

			.header {
				background-color: lightgray
			}
		</style>
	</head>
	<body>
		<div id="app">
			<!--报表标题-->
			<div class="title">评估训练报告</div>

			<!--用户数据-->
			<table border="1" cellspacing="0" cellpadding="6" width="100%" style="text-align: center;">
				<tr>
					<td width="20%" class="header">生成时间</td>
					<td colspan="5">{{data.REPORTDATE}}</td>
				</tr>
				<tr>
					<td width="20%" class="header">用户</td>
					<td colspan="3"></td>
					<td width="20%" class="header">用户编号</td>
					<td width="30%">{{data.UNUM}}</td>
				</tr>
				<tr>
					<td width="20%" class="header">性别</td>
					<td></td>
					<td width="10%" class="header">年龄</td>
					<td></td>
					<td width="20%" class="header">注册日期</td>
					<td width="30%"></td>
				</tr>
				<tr>
					<td width="20%" class="header">病史</td>
					<td colspan="5">{{data.REPORTDATE}}</td>
				</tr>
				<tr>
					<td width="20%" class="header">备注</td>
					<td colspan="5">{{data.REPORTDATE}}</td>
				</tr>
			</table>

			<!--训练数据-->
			<table border="1" cellspacing="0" cellpadding="6" width="100%" style="text-align: center;">
				<tr class="header">
					<th width="10%">序号</th>
					<th width="45%">评估参数</th>
					<th width="45%">评估结果</th>
				</tr>
				<tr v-for="(item, index) in arrColumn">
					<td width="10%">{{index + 1}}</td>
					<td width="45%">{{item}}</td>
					<td width="45%">{{arrColumnVal[index]}}</td>
				</tr>
			</table>

			<div id="echart" style="width: 600px;height:400px;"></div>
		</div>

		<div>
			<script>
				var app = new Vue({
					el: '#app',
					data: {
						data: {},
						arrColumn: ['训练主动里程', '训练被动里程', '训练合计里程', '训练主动时间', '训练被动时间',
							'训练合计时间', '肌张力起始', '肌张力最终', '肌张力平均', '主动训练强度(瓦)',
							'最大训练强度(瓦)', '痉挛次数', '总能量(千焦)', '总能量(千卡路里)', '平均对称性',
							'平均协调成功率', '平均主动转速', '疼痛等级', '最大肌力', '平均肌力',
							'发力次数', '最大心率', '平均心率', '最大血氧', '平均血氧'
						],
						arrColumnVal: []
					},
					mounted: function() {
						console.log('mounted');
						this.parseData();
						this.showReport();

						this.$nextTick(function() {
							console.log('mounted all');
						})
					},
					methods: {
						parseData: function() {
							this.data = JSON.parse(arrData)[0];
							if (this.data) {
								this.arrColumnVal[0] = this.data.MILEAGEINITATIVE;
								this.arrColumnVal[1] = this.data.MILEAGEPASSIVE;
								this.arrColumnVal[2] = this.data.MILEAGE;
								this.arrColumnVal[3] = this.data.TIMEINITATIVE;
								this.arrColumnVal[4] = this.data.TIMEPASSIVE;
							
								this.arrColumnVal[5] = this.data.TIME;
								this.arrColumnVal[6] = this.data.START;
								this.arrColumnVal[7] = this.data.END;
								this.arrColumnVal[8] = this.data.NOW;
								this.arrColumnVal[9] = this.data.INTENSITY;
							
								this.arrColumnVal[10] = this.data.INTENSITYMAX;
								this.arrColumnVal[11] = this.data.SPASM;
								this.arrColumnVal[12] = this.data.EBERGY;
								this.arrColumnVal[13] = this.data.EBERGYCALORIE;
								this.arrColumnVal[14] = this.data.SYMMERTYLEFT;
							
								this.arrColumnVal[15] = this.data.COORDINATEAVERAGE;
								this.arrColumnVal[16] = this.data.VELOCITY;
								this.arrColumnVal[17] = this.data.PAIN;
								this.arrColumnVal[18] = this.data.MUSCLEMAX;
								this.arrColumnVal[19] = this.data.MUSCLEAVERAGE;
							
								this.arrColumnVal[20] = this.data.MUSCLENUM;
								this.arrColumnVal[21] = this.data.HEARTRATEMAX;
								this.arrColumnVal[22] = this.data.HEARTRATE;
								this.arrColumnVal[23] = this.data.BLOODMAX;
								this.arrColumnVal[24] = this.data.BLOOD;
							}
						},
						showReport: function() {
							// 基于准备好的dom，初始化echarts实例
							var myChart = echarts.init(document.getElementById('echart'));
							
							// 指定图表的配置项和数据
							var option = {
								title: {
									text: 'ECharts 入门示例'
								},
								tooltip: {},
								legend: {
									data: ['销量']
								},
								xAxis: {
									data: ["衬衫", "羊毛衫", "雪纺衫", "裤子", "高跟鞋", "袜子"]
								},
								yAxis: {},
								series: [{
									name: '销量',
									type: 'bar',
									data: [5, 20, 36, 10, 10, 20]
								}]
							};
							
							// 使用刚指定的配置项和数据显示图表。
							myChart.setOption(option);
						}
					}
				})
			</script>
		</div>
	</body>
</html>
